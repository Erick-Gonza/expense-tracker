(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5580:function(e,t,a){Promise.resolve().then(a.bind(a,3212))},3212:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),l=a(2265),n=a(4086),i=a(994);let c=(0,i.ZF)({apiKey:"AIzaSyB98OoABJdokykDcmgYOcAxBskNT3Q1akE",authDomain:"expense-tracker-58ac1.firebaseapp.com",projectId:"expense-tracker-58ac1",storageBucket:"expense-tracker-58ac1.appspot.com",messagingSenderId:"221627583130",appId:"1:221627583130:web:d24d524345a6389e4c6d23"}),r=(0,n.ad)(c);function d(){let[e,t]=(0,l.useState)(),[a,i]=(0,l.useState)(0),[c,d]=(0,l.useState)(),[o,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(!0),x=e=>{let t=e.target.value;d({...c,[e.target.name]:t})},h=async e=>{if(e.preventDefault(),(null==c?void 0:c.name)===""||(null==c?void 0:c.price)===void 0)return u("Please enter item name and price to continue.");u("");try{await (0,n.ET)((0,n.hJ)(r,"items"),{name:c.name,price:c.price}),d({name:void 0,price:void 0,id:void 0})}catch(e){u(e.message)}};(0,l.useEffect)(()=>{let e=(0,n.IO)((0,n.hJ)(r,"items")),a=(0,n.cf)(e,e=>{let s=[];return e.forEach(e=>{s.push({...e.data(),id:e.id})}),t(s),p(!1),(e=>{let t=null==e?void 0:e.reduce((e,t)=>e+parseFloat("".concat(t.price)),0);i(t)})(s),()=>a()})},[]);let f=async e=>{if(void 0===e)return u("Item not found.");await (0,n.oe)((0,n.JU)(r,"items",e))};return(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between sm:p-24 p-4",children:(0,s.jsxs)("section",{className:"z-10 max-w-5xl w-full items-center justify-between font-mono text-sm",children:[(0,s.jsx)("h1",{className:"text-4xl p-4 text-center",children:"Expense Tracker"}),m?(0,s.jsx)("section",{className:"bg-slate-800 p-4 rounded-lg w-full h-full",children:(0,s.jsx)("h2",{className:"text-2xl p-4 text-center",children:"Loading..."})}):(0,s.jsxs)("section",{className:"bg-slate-800 p-4 rounded-lg",children:[(0,s.jsxs)("form",{className:"grid grid-cols-6 gap-3 items-center text-black",onSubmit:h,children:[""===o?"":(0,s.jsx)("p",{className:"col-span-6 text-white font-semibold tracking-wider p-4 bg-slate-950 border border-red-500",children:o}),(0,s.jsx)("input",{className:"col-span-3 p-3 border",type:"text",name:"name",placeholder:"Enter Item",value:(null==c?void 0:c.name)===void 0?"":null==c?void 0:c.name,onChange:x}),(0,s.jsx)("input",{className:"col-span-2 p-3 border",type:"number",name:"price",placeholder:"Enter $",value:(null==c?void 0:c.price)===void 0?"":null==c?void 0:c.price,onChange:x}),(0,s.jsx)("button",{className:"text-white bg-slate-950 hover:bg-slate-900 p-3 text-base md:text-xl col-span-1",type:"submit",children:"Add"})]}),(0,s.jsx)("ul",{children:null==e?void 0:e.map(e=>(0,s.jsxs)("li",{className:"my-4 w-full flex justify-between bg-slate-950",children:[(0,s.jsxs)("div",{className:"p-4 w-full flex justify-between",children:[(0,s.jsx)("span",{className:"capitalize",children:e.name}),(0,s.jsxs)("span",{className:"",children:["$",e.price]})]}),(0,s.jsx)("button",{className:"ml-8 p-4 border-l-2 border-l-slate-900 hover:bg-slate-900 w-20",onClick:()=>f(null==e?void 0:e.id),children:"Delete"})]},e.id))}),(null==e?void 0:e.length)<1&&!m?"":(0,s.jsxs)("div",{className:"p-4 w-full flex justify-between bg-slate-950",children:[(0,s.jsx)("span",{className:"capitalize",children:"Total"}),(0,s.jsxs)("span",{className:"",children:["$",a]})]})]})]})})}}},function(e){e.O(0,[358,92,971,596,744],function(){return e(e.s=5580)}),_N_E=e.O()}]);